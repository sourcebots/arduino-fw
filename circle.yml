general:
    artifacts:
      - .build_ano/uno/firmware.elf
      - .build_ano/uno/firmware.hex

dependencies:
    pre:
        - sudo apt-get update -y
        - sudo apt-get install arduino arduino-core arduino-mk
        # This library wont build under circle, and seems to be absent locally The dependency is provided by another library, so we can delete it!
        - sudo rm -rf /usr/share/arduino/libraries/Robot_Control
        - git clone https://github.com/sourcebots/Arturo && cd Arturo && sudo make install

checkout:
    post:
      - git submodule sync
      - git submodule update --init --recursive

test:
    override:
        - ano build -m uno --cxxflags="-std=gnu++11"
